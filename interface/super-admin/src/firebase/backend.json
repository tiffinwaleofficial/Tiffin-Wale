{
  "entities": {
    "AdminUser": {
      "title": "Admin User",
      "description": "Represents a super admin user in the system.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "Admin's login email."
        },
        "name": {
          "type": "string",
          "description": "Admin's full name."
        },
        "lastLogin": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of the last login."
        }
      },
      "required": ["email", "name"]
    },
    "Partner": {
      "title": "Partner (Tiffin Center)",
      "description": "Represents a tiffin center partner.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the tiffin center."
        },
        "contactPerson": {
          "type": "string",
          "description": "Name of the contact person."
        },
        "mobile": {
          "type": "string",
          "description": "Contact mobile number."
        },
        "city": {
          "type": "string",
          "description": "City where the tiffin center operates."
        },
        "registeredDate": {
          "type": "string",
          "format": "date",
          "description": "Date when the partner registered."
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "pending_approval", "banned"],
          "description": "Current status of the partner."
        },
        "totalRevenue": {
          "type": "number",
          "description": "Total revenue generated by the partner."
        },
        "commissionRate": {
          "type": "number",
          "description": "Admin commission rate percentage."
        }
      },
      "required": ["name", "contactPerson", "mobile", "city", "registeredDate", "status"]
    },
    "Customer": {
      "title": "Customer (User/Student)",
      "description": "Represents an end-user (student) using the tiffin service.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Customer's full name."
        },
        "mobile": {
          "type": "string",
          "description": "Customer's mobile number."
        },
        "city": {
          "type": "string",
          "description": "City where the customer resides."
        },
        "subscriptionType": {
          "type": "string",
          "enum": ["monthly", "weekly", "trial"],
          "description": "Type of subscription plan."
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "banned"],
          "description": "Current status of the customer."
        }
      },
      "required": ["name", "mobile", "city", "subscriptionType", "status"]
    },
    "Order": {
      "title": "Order",
      "description": "Represents a single tiffin order.",
      "type": "object",
      "properties": {
        "orderId": {
          "type": "string",
          "description": "Unique identifier for the order."
        },
        "customerId": {
          "type": "string",
          "description": "ID of the customer who placed the order."
        },
         "customerName": {
           "type": "string",
           "description": "Name of the customer."
         },
        "partnerId": {
          "type": "string",
          "description": "ID of the partner (tiffin center) fulfilling the order."
        },
        "partnerName": {
            "type": "string",
            "description": "Name of the partner tiffin center."
        },
        "tiffinType": {
          "type": "string",
          "enum": ["Lunch", "Dinner", "Both"],
          "description": "Specifies if the order is for Lunch or Dinner."
        },
        "orderDate": {
          "type": "string",
          "format": "date",
          "description": "Date the order was placed/scheduled for."
        },
        "status": {
          "type": "string",
          "enum": ["pending", "dispatched", "delivered", "cancelled"],
          "description": "Current status of the order."
        },
        "deliveryPartner": {
          "type": "string",
          "description": "Name or ID of the delivery partner assigned (if any)."
        },
        "dispatched": {
          "type": "boolean",
          "description": "Indicates if the tiffin has been dispatched."
        },
        "amount": {
           "type": "number",
           "description": "Order amount."
         }
      },
      "required": ["orderId", "customerId", "customerName", "partnerId", "partnerName", "tiffinType", "orderDate", "status", "dispatched", "amount"]
    },
    "Subscription": {
      "title": "Subscription",
      "description": "Represents a customer's tiffin subscription.",
      "type": "object",
      "properties": {
        "subscriptionId": {
          "type": "string",
          "description": "Unique identifier for the subscription."
        },
        "customerId": {
          "type": "string",
          "description": "ID of the customer."
        },
         "customerName": {
           "type": "string",
           "description": "Name of the customer."
         },
        "partnerId": {
          "type": "string",
          "description": "ID of the partner (tiffin center)."
        },
        "planType": {
          "type": "string",
          "enum": ["monthly", "weekly", "trial"],
          "description": "Type of subscription plan."
        },
        "startDate": {
          "type": "string",
          "format": "date",
          "description": "Start date of the subscription."
        },
        "endDate": {
          "type": "string",
          "format": "date",
          "description": "End date of the subscription."
        },
        "status": {
          "type": "string",
          "enum": ["active", "paused", "cancelled", "expired"],
          "description": "Current status of the subscription."
        }
      },
      "required": ["subscriptionId", "customerId", "customerName", "partnerId", "planType", "startDate", "endDate", "status"]
    },
    "Menu": {
       "title": "Menu Item",
       "description": "Represents a single meal item offered by a partner for a specific day and meal type.",
       "type": "object",
       "properties": {
         "partnerId": {
           "type": "string",
           "description": "ID of the partner offering this menu item."
         },
         "date": {
           "type": "string",
           "format": "date",
           "description": "The date for which this menu item is applicable."
         },
         "mealType": {
           "type": "string",
           "enum": ["Lunch", "Dinner"],
           "description": "Specifies if the menu is for Lunch or Dinner."
         },
         "items": {
           "type": "array",
           "items": {
             "type": "string"
           },
           "description": "List of food items included in the meal."
         },
         "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the menu was last updated."
          }
       },
       "required": ["partnerId", "date", "mealType", "items", "lastUpdated"]
     },
     "Payout": {
        "title": "Payout",
        "description": "Represents a payout transaction to a partner.",
        "type": "object",
        "properties": {
          "payoutId": {
            "type": "string",
            "description": "Unique identifier for the payout."
          },
          "partnerId": {
            "type": "string",
            "description": "ID of the partner receiving the payout."
          },
          "amount": {
            "type": "number",
            "description": "Amount paid out."
          },
          "payoutDate": {
            "type": "string",
            "format": "date",
            "description": "Date the payout was processed."
          },
          "status": {
            "type": "string",
            "enum": ["pending", "paid", "failed"],
            "description": "Status of the payout."
          },
          "transactionId": {
            "type": "string",
            "description": "Transaction ID associated with the payout (if applicable)."
          }
        },
        "required": ["payoutId", "partnerId", "amount", "payoutDate", "status"]
      },
      "SupportTicket": {
          "title": "Support Ticket",
          "description": "Represents a support request or feedback from users or partners.",
          "type": "object",
          "properties": {
            "ticketId": {
              "type": "string",
              "description": "Unique identifier for the support ticket."
            },
            "submitterId": {
              "type": "string",
              "description": "ID of the user or partner who submitted the ticket."
            },
            "submitterType": {
              "type": "string",
              "enum": ["customer", "partner"],
              "description": "Indicates if the submitter is a customer or partner."
            },
            "subject": {
              "type": "string",
              "description": "Subject of the support ticket."
            },
            "description": {
              "type": "string",
              "description": "Detailed description of the issue or feedback."
            },
            "submittedDate": {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp when the ticket was submitted."
            },
            "status": {
              "type": "string",
              "enum": ["open", "in_progress", "resolved", "closed"],
              "description": "Current status of the support ticket."
            },
            "assignedTo": {
              "type": "string",
              "description": "ID of the admin or support team member assigned to the ticket."
            },
            "resolution": {
               "type": "string",
               "description": "Details of the resolution provided."
            }
          },
          "required": ["ticketId", "submitterId", "submitterType", "subject", "description", "submittedDate", "status"]
        }
  },
  "auth": {
    "providers": ["email"],
    "rationales": {
      "email_only": "Super admins will use email/password for secure access."
    }
  },
  "firestore": {
    "/admins/{adminId}": {
      "schema": "AdminUser",
      "description": "Stores information about super admin users."
    },
    "/partners": {
      "schema": "Partner",
      "description": "Collection of all tiffin center partners."
    },
    "/customers": {
      "schema": "Customer",
      "description": "Collection of all registered customers (users/students)."
    },
    "/orders": {
      "schema": "Order",
      "description": "Collection of all tiffin orders."
    },
    "/subscriptions": {
      "schema": "Subscription",
      "description": "Collection of all customer subscriptions."
    },
    "/menus": {
       "schema": "Menu",
       "description": "Collection storing daily menus offered by partners."
    },
    "/payouts": {
        "schema": "Payout",
        "description": "Collection tracking payouts made to partners."
     },
     "/supportTickets": {
         "schema": "SupportTicket",
         "description": "Collection for managing support tickets and feedback."
      }
  }
}
